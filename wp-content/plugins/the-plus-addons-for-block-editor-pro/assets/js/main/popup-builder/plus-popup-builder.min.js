let tpPopupData=new Map;function PlusOffcanvas(t){"use strict";this.wrap=t,this.content=t.find(".tpgb-canvas-content-wrap"),this.button=t.find(".offcanvas-toggle-btn"),this.settings=this.wrap.data("settings"),this.id=this.settings.content_id,this.transition=this.settings.transition,this.esc_close=this.settings.esc_close,this.body_click_close=this.settings.body_click_close,this.direction=this.settings.direction,this.trigger=this.settings.trigger,this.onpageLoad=this.settings.onpageLoad,this.onpageloadDelay=this.settings.onpageloadDelay,this.onScroll=this.settings.onScroll,this.onpageviews=this.settings.onpageviews,this.exitinlet=this.settings.exitInlet,this.inactivity=this.settings.inactivity,this.extraclick=this.settings.extraclick,this.prevurl=this.settings.prevurl,this.scrollHeight=this.settings.scrollHeight,this.previousUrl=this.settings.previousUrl,this.extraId=this.settings.extraId,this.inactivitySec=this.settings.inactivitySec,this.duration=500,this.time=0,this.flag=!0,this.ele=jQuery(".tpgb-block-"+this.id+"-canvas"),this.animSetting=this.ele.data("animationsetting"),this.destroy(),this.init(),tpPopupData.set(this.id,this.settings)}document.addEventListener("DOMContentLoaded",function(){jQuery("body").hasClass("block-editor-page")||jQuery(".tpgb-offcanvas-wrapper").each(function(){var t=jQuery(this);new PlusOffcanvas(t);var s=t.find(".scroll-view"),i=t.find(".offcanvas-toggle-btn.position-fixed");t.hasClass("scroll-view")&&i&&jQuery(window).on("scroll",function(){var i=jQuery(this).scrollTop();s.each(function(){var t=jQuery(this).data("scroll-view"),s=jQuery(this).data("canvas-id"),s=jQuery("."+s);t<i?s.addClass("show"):s.removeClass("show")})})})}),PlusOffcanvas.prototype={id:"",wrap:"",content:"",button:"",settings:{},transition:"",delaytimeout:"",ele:"",duration:400,initialized:!1,animSetting:{},animations:["slide","slide-along","reveal","push","popup"],init:function(){var t="yes"===this.body_click_close?"":"tpgb-pop-outer-none";this.wrap.length&&(jQuery("html").addClass("tpgb-offcanvas-content-widget"),0===jQuery(".tpgb-offcanvas-container").length&&(jQuery("body").wrapInner('<div class="tpgb-offcanvas-container '+t+'"/>'),this.content.insertBefore(".tpgb-offcanvas-container")),0<this.wrap.find(".tpgb-canvas-content-wrap").length&&(0<jQuery(".tpgb-offcanvas-container > .tpgb-block-"+this.id+"-canvas").length&&jQuery(".tpgb-offcanvas-container > .tpgb-block-"+this.id+"-canvas").remove(),0<jQuery("body > .tpgb-block-"+this.id+"-canvas").length&&jQuery("body > .tpgb-block-"+this.id+"-canvas").remove(),jQuery("body").prepend(this.wrap.find(".tpgb-canvas-content-wrap"))),this.bindEvents())},destroy:function(){this.close(),this.animations.forEach(function(t){jQuery("html").hasClass("tpgb-"+t)&&jQuery("html").removeClass("tpgb-"+t)}),jQuery("body > .tpgb-block-"+this.id+"-canvas").length},bindEvents:function(){this.trigger&&"yes"==this.trigger&&this.button.on("click",jQuery.proxy(this.toggleContent,this)),"yes"==this.extraclick&&this.extraId&&""!=this.extraId&&jQuery("."+this.extraId).on("click",jQuery.proxy(this.toggleContent,this)),"yes"!=this.onpageLoad&&"yes"!=this.inactivity&&"yes"!=this.prevurl&&"yes"!=this.onpageviews||this.loadShow(),jQuery(window).on("scroll",jQuery.proxy(this.scrollShow,this)),jQuery(document).on("mouseleave",jQuery.proxy(this.exitInlet,this)),jQuery("body").delegate(".tpgb-canvas-content-wrap .tpgb-offcanvas-close","click",jQuery.proxy(this.close,this)),"yes"===this.esc_close&&this.closeESC(),"yes"===this.body_click_close&&this.closeClick()},triggerClick:function(){if("yes"==this.extraclick&&this.extraId&&""!=this.extraId&&this.flag){let t=jQuery(document).find("."+this.extraId);t.on("click",jQuery.proxy(this.toggleContent,this))}},toggleContent:function(t){"yes"==this.extraclick&&this.extraId&&""!=this.extraId&&t.preventDefault(),jQuery("html").hasClass("tpgb-open")?this.close():this.flag&&this.show()},exitInlet:function(){"yes"==this.exitinlet&&this.flag&&(this.show(),this.flag=!1)},loadShow:function(){function t(t){clearTimeout(s),s=setTimeout(function(){t.show(),t.flag=!1},1e3*t.inactivitySec)}var s;"yes"!=this.onpageLoad&&"yes"!=this.onpageviews||!this.flag||setTimeout(()=>{this.show(),this.flag=!1},"yes"==this.onpageLoad?this.onpageloadDelay:500),"yes"==this.inactivity&&this.flag&&this.inactivitySec&&""!=this.inactivitySec&&(this.flag,document.onmousemove=t(this),document.onkeypress=t(this)),"yes"==this.prevurl&&this.previousUrl&&document.referrer&&this.previousUrl==document.referrer&&this.flag&&setTimeout(()=>{this.show()},500)},scrollShow:function(){var t=this.scrollHeight,s=jQuery(window).scrollTop();"yes"==this.onScroll&&this.flag&&t<=s&&(this.show(),this.flag=!1)},AnimIn:function(){!this.ele.hasClass("tpgb_animated")&&this.animSetting&&void 0!==this.animSetting.anime&&this.ele.removeClass("tpgb-view-animation-out tpgb_animated_out tpgb_"+this.animSetting.animeOut).addClass("tpgb_animated").addClass("tpgb_"+this.animSetting.anime)},AnimOut:function(){jQuery(".tpgb-block-"+this.id+"-canvas").hasClass("tpgb-visible")&&!this.ele.hasClass("tpgb_animated_out")&&this.animSetting&&void 0!==this.animSetting.animeOut&&this.ele.removeClass("tpgb_animated tpgb_"+this.animSetting.anime).addClass("tpgb-view-animation-out tpgb_animated_out").addClass("tpgb_"+this.animSetting.animeOut)},show:function(){jQuery(".tpgb-block-"+this.id+"-canvas").addClass("tpgb-visible"),jQuery("html").addClass("tpgb-"+this.transition),jQuery("html").addClass("tpgb-"+this.direction),jQuery("html").addClass("tpgb-open"),jQuery("html").addClass("tpgb-block-"+this.id+"-canvas-open"),jQuery("html").addClass("tpgb-reset"),this.button.addClass("tpgb-is-active"),this.AnimIn()},close:function(){jQuery(".tpgb-block-"+this.id+"-canvas").hasClass("tpgb-slide-along")?(this.delaytimeout=0,jQuery(".tpgb-block-"+this.id+"-canvas").removeClass("tpgb-visible")):this.delaytimeout=0,jQuery("html").removeClass("tpgb-open"),jQuery("html").removeClass("tpgb-block-"+this.id+"-canvas-open"),setTimeout(jQuery.proxy(function(){jQuery("html").removeClass("tpgb-reset"),jQuery("html").removeClass("tpgb-"+this.transition),jQuery("html").removeClass("tpgb-"+this.direction),jQuery(".tpgb-block-"+this.id+"-canvas").hasClass("tpgb-slide-along")||jQuery(".tpgb-block-"+this.id+"-canvas").removeClass("tpgb-visible")},this),this.delaytimeout),this.button.removeClass("tpgb-is-active"),this.AnimOut()},closeESC:function(){var s=this;""!==s.settings.esc_close&&jQuery(document).on("keydown",function(t){27===t.keyCode&&s.close()})},closeClick:function(){var i=this;jQuery(document).on("click",function(t){var s=[];tpPopupData.forEach(function(t){t.extraclick&&"yes"==t.extraclick&&t.extraId&&""!=t.extraId&&i.flag&&s.push("."+t.extraId)}),s=s.length?s.join(","):".offcanvas-toggle-btn",jQuery(t.target).is(".tpgb-canvas-content-wrap")||0<jQuery(t.target).parents(".tpgb-canvas-content-wrap").length||jQuery(t.target).is(".offcanvas-toggle-btn")||jQuery(t.target).is(s)||0<jQuery(t.target).parents(s).length||i.close()})}};